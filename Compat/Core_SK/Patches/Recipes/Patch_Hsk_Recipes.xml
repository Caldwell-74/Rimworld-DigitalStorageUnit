<?xml version="1.0" encoding="utf-8"?>
<Patch>
    <Operation Class="PatchOperationSequence">
        <operations>

            <!-- recipe bases -->

            <li Class="PatchOperationAdd">
                <xpath>Defs/RecipeDef[@Name="DSU_BaseRecipe_Electronics"]</xpath>
                <value>
                    <workSpeedStat>ElectronicCraftingSpeed</workSpeedStat>
                    <recipeUsers>
                        <li>TableElectronics</li>
                    </recipeUsers>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/RecipeDef[@Name="DSU_BaseRecipe_Mechanics"]</xpath>
                <value>
                    <workSpeedStat>SmithingSpeed</workSpeedStat>
                    <recipeUsers>
                        <li>FabricationBench</li>
                        <li>AdvToolBench</li>
                    </recipeUsers>
                </value>
            </li>

            <!-- recipes -->

            <li Class="PatchOperationSequence">
                <success>Always</success>
                <operations>

                    <!-- chip i -> Make_DSU_ElectronicChip_I -->
                    <li Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_ElectronicChip_I"]/ingredients</xpath>
                                <value>
                                    <ingredients>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>ElectronicComponents</li>
                                                </thingDefs>
                                            </filter>
                                            <count>8</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Plastic</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                    </ingredients>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_ElectronicChip_I"]/fixedIngredientFilter</xpath>
                                <value>
                                    <fixedIngredientFilter>
                                        <thingDefs>
                                            <li>ElectronicComponents</li>
                                            <li>Plastic</li>
                                        </thingDefs>
                                    </fixedIngredientFilter>
                                </value>
                            </li>
                        </operations>
                    </li>

                    <!-- chip ii -> Make_DSU_ElectronicChip_II -->
                    <li Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_ElectronicChip_II"]/ingredients</xpath>
                                <value>
                                    <ingredients>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>PRF_ElectronicChip_I</li>
                                                </thingDefs>
                                            </filter>
                                            <count>4</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Plastic</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>ElectronicComponents</li>
                                                </thingDefs>
                                            </filter>
                                            <count>10</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Microchips</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>GoldBar</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                    </ingredients>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_ElectronicChip_II"]/fixedIngredientFilter</xpath>
                                <value>
                                    <fixedIngredientFilter>
                                        <thingDefs>
                                            <li>GoldBar</li>
                                            <li>Microchips</li>
                                            <li>ElectronicComponents</li>
                                            <li>Plastic</li>
                                            <li>PRF_ElectronicChip_I</li>
                                        </thingDefs>
                                    </fixedIngredientFilter>
                                </value>
                            </li>
                        </operations>
                    </li>

                    <!-- chip iii -> Make_DSU_ElectronicChip_III -->
                    <li Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_ElectronicChip_III"]/ingredients</xpath>
                                <value>
                                    <ingredients>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>PRF_ElectronicChip_II</li>
                                                </thingDefs>
                                            </filter>
                                            <count>4</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Plastic</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Microchips</li>
                                                </thingDefs>
                                            </filter>
                                            <count>10</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>BioMicrochips</li>
                                                </thingDefs>
                                            </filter>
                                            <count>1</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>GoldBar</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                    </ingredients>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_ElectronicChip_III"]/fixedIngredientFilter</xpath>
                                <value>
                                    <fixedIngredientFilter>
                                        <thingDefs>
                                            <li>PRF_ElectronicChip_II</li>
                                            <li>Plastic</li>
                                            <li>Microchips</li>
                                            <li>BioMicrochips</li>
                                            <li>GoldBar</li>
                                        </thingDefs>
                                    </fixedIngredientFilter>
                                </value>
                            </li>
                        </operations>
                    </li>

                    <!-- robotic arm -> Make_DSU_RoboticArm -->
                    <li Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_RoboticArm"]/ingredients</xpath>
                                <value>
                                    <ingredients>
                                        <li>
                                            <filter>
                                                <categories>
                                                    <li>SLDBar</li>
                                                    <li>USLDBar</li>
                                                </categories>
                                            </filter>
                                            <count>20</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Plastic</li>
                                                </thingDefs>
                                            </filter>
                                            <count>10</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Mechanism</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>ComponentIndustrial</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>ElectronicComponents</li>
                                                </thingDefs>
                                            </filter>
                                            <count>2</count>
                                        </li>
                                    </ingredients>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_RoboticArm"]/fixedIngredientFilter</xpath>
                                <value>
                                    <fixedIngredientFilter>
                                        <categories>
                                            <li>SLDBar</li>
                                            <li>USLDBar</li>
                                        </categories>
                                        <thingDefs>
                                            <li>Plastic</li>
                                            <li>Mechanism</li>
                                            <li>ComponentIndustrial</li>
                                            <li>ElectronicComponents</li>
                                        </thingDefs>
                                    </fixedIngredientFilter>
                                </value>
                            </li>
                        </operations>
                    </li>

                    <!-- small frame -> Make_DSU_SmallFrame -->
                    <li Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_SmallFrame"]/ingredients</xpath>
                                <value>
                                    <ingredients>
                                        <li>
                                            <filter>
                                                <categories>
                                                    <li>SLDBar</li>
                                                    <li>USLDBar</li>
                                                </categories>
                                            </filter>
                                            <count>20</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>ComponentIndustrial</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Plastic</li>
                                                </thingDefs>
                                            </filter>
                                            <count>6</count>
                                        </li>
                                    </ingredients>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_SmallFrame"]/fixedIngredientFilter</xpath>
                                <value>
                                    <fixedIngredientFilter>
                                        <categories>
                                            <li>SLDBar</li>
                                            <li>USLDBar</li>
                                        </categories>
                                        <thingDefs>
                                            <li>ComponentIndustrial</li>
                                            <li>Plastic</li>
                                        </thingDefs>
                                    </fixedIngredientFilter>
                                </value>
                            </li>
                        </operations>
                    </li>

                    <!-- medium frame -> Make_DSU_MediumFrame -->
                    <li Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_MediumFrame"]/ingredients</xpath>
                                <value>
                                    <ingredients>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>PRF_MachineFrame_I</li>
                                                </thingDefs>
                                            </filter>
                                            <count>1</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>ComponentAdvanced</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Plastic</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <categories>
                                                    <li>HCMBar</li>
                                                </categories>
                                            </filter>
                                            <count>20</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>ElectronicComponents</li>
                                                </thingDefs>
                                            </filter>
                                            <count>5</count>
                                        </li>
                                    </ingredients>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_MediumFrame"]/fixedIngredientFilter</xpath>
                                <value>
                                    <fixedIngredientFilter>
                                        <categories>
                                            <li>HCMBar</li>
                                        </categories>
                                        <thingDefs>
                                            <li>ElectronicComponents</li>
                                            <li>Plastic</li>
                                            <li>Plastic</li>
                                            <li>ComponentAdvanced</li>
                                            <li>PRF_MachineFrame_I</li>
                                        </thingDefs>
                                    </fixedIngredientFilter>
                                </value>
                            </li>
                        </operations>
                    </li>

                    <!-- advanced frame -> Make_DSU_LargeFrame -->
                    <li Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_LargeFrame"]/ingredients</xpath>
                                <value>
                                    <ingredients>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>PRF_MachineFrame_II</li>
                                                </thingDefs>
                                            </filter>
                                            <count>1</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>ComponentAdvanced</li>
                                                </thingDefs>
                                            </filter>
                                            <count>10</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <categories>
                                                    <li>USLDBar</li>
                                                </categories>
                                            </filter>
                                            <count>20</count>
                                        </li>
                                        <li>
                                            <filter>
                                                <thingDefs>
                                                    <li>Rubber</li>
                                                </thingDefs>
                                            </filter>
                                            <count>10</count>
                                        </li>
                                    </ingredients>
                                </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>Defs/RecipeDef[defName="Make_DSU_LargeFrame"]/fixedIngredientFilter</xpath>
                                <value>
                                    <fixedIngredientFilter>
                                        <categories>
                                            <li>USLDBar</li>
                                        </categories>
                                        <thingDefs>
                                            <li>PRF_MachineFrame_II</li>
                                            <li>ComponentAdvanced</li>
                                            <li>Rubber</li>
                                        </thingDefs>
                                    </fixedIngredientFilter>
                                </value>
                            </li>
                        </operations>
                    </li>

                </operations>
            </li>

        </operations>
    </Operation>
</Patch>